<html>
    <head>
        <link rel="stylesheet" href="categorical-styles.css">
        <title>Documento de python resaltado</title>
    </head>
    <body>
        <pre><span style='color:crimson'>"""
This program contains functions to draw shapes with colors.
Welcome to Paint!
Press one of the following keys to change color.
K -> BLACK
W -> WHITE
G -> GREEN
B -> BLUE
R -> RED
O -> ORANGE
Press one of the following keys to set the shape to draw.
l -> line
s -> square
c -> circle
r -> rectangle
t -> triangle
With a color and a shape set, you just have to click once to
set the starting point and click a second time to draw the shape.
Good luck!
"""</span>

<span style='color:darkblue'># Standard library imports.</span>
<span style='color:blueviolet'>import</span> <span style='color:darkgreen'>math</span>

<span style='color:darkblue'># Third party related imports.</span>
<span style='color:blueviolet'>from</span> <span style='color:darkgreen'>turtle</span> <span style='color:blueviolet'>import</span> <span style='color:darkgreen'>up</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>down</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>goto</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>begin_fill</span><span style='color:deepskyblue'>,</span>   <span style='color:deepskyblue'>\</span>
                   <span style='color:darkgreen'>end_fill</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>forward</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>left</span><span style='color:deepskyblue'>,</span>      <span style='color:deepskyblue'>\</span>
                   <span style='color:darkgreen'>setup</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>onscreenclick</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>listen</span><span style='color:deepskyblue'>,</span> <span style='color:deepskyblue'>\</span>
                   <span style='color:darkgreen'>onkey</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>color</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>undo</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>done</span>
<span style='color:blueviolet'>import</span> <span style='color:darkgreen'>turtle</span>
<span style='color:blueviolet'>from</span> <span style='color:darkgreen'>freegames</span> <span style='color:blueviolet'>import</span> <span style='color:darkgreen'>vector</span>

<span style='color:darkgreen'>print</span>(<span style='color:darkgreen'>__doc__</span><span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Print usage information.</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>line</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Draws line from start to end.
    The line is drawn from the position of the first tap to 
    the position of the second tap.
    Parameters:
    start: vector -- Vector containing coordinates
                         x, y of start position.
    end: vector -- Vector containing coordinates
                       x, y of end position.
    Returns:
    None
    """</span>

    <span style='color:darkgreen'>up</span>(<span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Not drawing when moving.</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>down</span>(<span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Drawing when moving.</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>square</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Draws a square.
    The magnitude of the difference between the starting point and
    the end point along the x-axis is the size of the side of the
    square. The square is drawn with 4 lines. The first line is drawn
    from the start position in the direction of the x-axis. It will
    point to the right if the end position is further right than
    the start position, and left otherwise. The following lines are
    drawn by rotating the direction 90 degrees clockwise.
    Parameters:
    start: vector -- Vector containing coordinates
                         x, y of start position.
    end: vector -- Vector containing coordinates
                       x, y of end position.
    Returns:
    None
    """</span>

    <span style='color:darkgreen'>up</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>down</span>(<span style='color:deepskyblue'>)</span>

    <span style='color:darkgreen'>begin_fill</span>(<span style='color:deepskyblue'>)</span>  <span style='color:darkblue'>#  Draw line, rotate 90 deg. and repeat 4 times.</span>
    <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>count</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>4</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>end_fill</span>(<span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>circle</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Draws a circle.
    The distance between the 2 taps is the diameter of the circle.
    The function draws this line for better visualization and then
    draws the circle.
    Parameters:
    start: vector -- Vector containing coordinates
                         x, y of start position.
    end: vector -- Vector containing coordinates
                       x, y of end position.
    Returns:
    None
    """</span>
    
    <span style='color:darkgreen'>line</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkblue'># Distance between vectors.</span>
    <span style='color:darkgreen'>diameter</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>math</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>sqrt</span>((<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>**</span> <span style='color:turquoise'>2</span>
                       <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>**</span> <span style='color:turquoise'>2</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>radius</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>diameter</span> <span style='color:fuchsia'>/</span> <span style='color:turquoise'>2</span>
    <span style='color:darkblue'># Center through decomposition.</span>
    <span style='color:darkgreen'>center</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>/</span> <span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span>
              <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>/</span> <span style='color:turquoise'>2</span><span style='color:deepskyblue'>]</span>
    <span style='color:darkgreen'>bottom</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>center</span><span style='color:deepskyblue'>[</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>]</span> <span style='color:fuchsia'>+</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>center</span><span style='color:deepskyblue'>[</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>]</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>radius</span><span style='color:deepskyblue'>]</span>

    <span style='color:darkgreen'>up</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>bottom</span><span style='color:deepskyblue'>[</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>bottom</span><span style='color:deepskyblue'>[</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>down</span>(<span style='color:deepskyblue'>)</span>

    <span style='color:darkgreen'>turtle</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>circle</span>(<span style='color:darkgreen'>radius</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>rectangle</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Draws a rectangle.
    
    The magnitude of the first and third lines is the magnitude
    of the difference between the end and start positions along
    the x-axis. The same applies with the second and last lines
    along the y-axis.
    The rectangle is drawn with 4 lines. The first line is drawn
    from the start position in the direction of the x-axis. It will
    point to the right if the end position is further right than
    the start position, and left otherwise. The following lines are
    drawn by rotating the direction 90 degrees clockwise.
    Parameters:
    start: vector -- Vector containing coordinates
                         x, y of start position.
    end: vector -- Vector containing coordinates
                       x, y of end position.
    Returns:
    None
    """</span>

    <span style='color:darkgreen'>up</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>down</span>(<span style='color:deepskyblue'>)</span>
    
    <span style='color:darkgreen'>begin_fill</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>end_fill</span>(<span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>triangle</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Draws a right angled scalene triangle from start to end
    
    Parameters:
    start: vector -- Vector containing coordinates
                         x, y of start position.
    end: vector -- Vector containing coordinates
                       x, y of end position.
    Returns:
    None
    """</span>
    <span style='color:darkgreen'>up</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>goto</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>down</span>(<span style='color:deepskyblue'>)</span>
    
    <span style='color:darkgreen'>hip</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>math</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>sqrt</span>((<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>**</span> <span style='color:turquoise'>2</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>**</span> <span style='color:turquoise'>2</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>alpha</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>math</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>acos</span>((<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>/</span> <span style='color:darkgreen'>hip</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>*</span> <span style='color:turquoise'>180</span> <span style='color:fuchsia'>/</span> <span style='color:darkgreen'>math</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>pi</span>
    
    <span style='color:blueviolet'>if</span> (<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>>=</span> <span style='color:turquoise'>0</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>begin_fill</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>90</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>alpha</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>hip</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:turquoise'>180</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>alpha</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>end_fill</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>begin_fill</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>x</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:fuchsia'>-</span><span style='color:turquoise'>90</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>abs</span>(<span style='color:darkgreen'>end</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>start</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:fuchsia'>-</span>(<span style='color:turquoise'>90</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>alpha</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>forward</span>(<span style='color:darkgreen'>hip</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>left</span>(<span style='color:fuchsia'>-</span>(<span style='color:turquoise'>180</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>alpha</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>end_fill</span>(<span style='color:deepskyblue'>)</span>
        


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>tap</span>(<span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Does the necessary operations after a tap.
    
    If the tap is the first one, it just stores is,
    otherwise it stores it as the last tap, calls the
    shape function and resets the start.
    Parameters:
    x: -- The position of the screen click in the x-axis.
    y: -- The position of the screen click in the y-axis.
    Returns:
    None
    """</span>

    <span style='color:darkgreen'>start</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>state</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>'start'</span><span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>start</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>state</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>'start'</span><span style='color:deepskyblue'>]</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>vector</span>(<span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>shape</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>state</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>]</span>
        <span style='color:darkgreen'>end</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>vector</span>(<span style='color:darkgreen'>x</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>shape</span>(<span style='color:darkgreen'>start</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>state</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>'start'</span><span style='color:deepskyblue'>]</span> <span style='color:deepskyblue'>=</span> <span style='color:blueviolet'>None</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>store</span>(<span style='color:darkgreen'>key</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>value</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Stores the given value in the state dictionary using the key"""</span>
    <span style='color:darkgreen'>state</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>key</span><span style='color:deepskyblue'>]</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>value</span>


<span style='color:darkblue'># Initial steps.</span>
<span style='color:darkgreen'>state</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>{</span><span style='color:crimson'>'start'</span><span style='color:deepskyblue'>:</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>line</span><span style='color:deepskyblue'>}</span>
<span style='color:darkgreen'>setup</span>(<span style='color:turquoise'>420</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>420</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>370</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>0</span><span style='color:deepskyblue'>)</span>

<span style='color:darkgreen'>onscreenclick</span>(<span style='color:darkgreen'>tap</span><span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Function to do when screen is clicked.</span>
<span style='color:darkgreen'>listen</span>(<span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Collect key events.</span>

<span style='color:darkblue'># Functions to  respond to a key being pressed.</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:darkgreen'>undo</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'u'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>'black'</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'K'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>'white'</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'W'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>'green'</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'G'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>'blue'</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'B'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>'red'</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'R'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>color</span>(<span style='color:crimson'>"orange"</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"O"</span><span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># Adding extra color.</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>store</span>(<span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>line</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'l'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>store</span>(<span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>square</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'s'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>store</span>(<span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>circle</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'c'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>store</span>(<span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>rectangle</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'r'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>onkey</span>(<span style='color:blueviolet'>lambda</span><span style='color:deepskyblue'>:</span> <span style='color:darkgreen'>store</span>(<span style='color:crimson'>'shape'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>triangle</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>'t'</span><span style='color:deepskyblue'>)</span>

<span style='color:darkgreen'>done</span>(<span style='color:deepskyblue'>)</span>  <span style='color:darkblue'># The event loop.</span>

        </pre>
    </body>
</html>