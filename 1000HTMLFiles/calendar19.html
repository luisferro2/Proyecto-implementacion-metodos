<html>
    <head>
        <link rel="stylesheet" href="categorical-styles.css">
        <title>Documento de python resaltado</title>
    </head>
    <body>
        <pre><span style='color:crimson'>"""Calendar printing functions
Note when comparing these calendars to the ones printed by cal(1): By
default, these calendars have Monday as the first day of the week, and
Sunday as the last (the European convention). Use setfirstweekday() to
set the first day of the week (0=Monday, 6=Sunday)."""</span>

<span style='color:blueviolet'>import</span> <span style='color:darkgreen'>sys</span>
<span style='color:blueviolet'>import</span> <span style='color:darkgreen'>datetime</span>
<span style='color:blueviolet'>import</span> <span style='color:darkgreen'>locale</span> <span style='color:blueviolet'>as</span> <span style='color:darkgreen'>_locale</span>
<span style='color:blueviolet'>from</span> <span style='color:darkgreen'>itertools</span> <span style='color:blueviolet'>import</span> <span style='color:darkgreen'>repeat</span>

<span style='color:darkgreen'>__all__</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:crimson'>"IllegalMonthError"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"IllegalWeekdayError"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"setfirstweekday"</span><span style='color:deepskyblue'>,</span>
           <span style='color:crimson'>"firstweekday"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"isleap"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"leapdays"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"weekday"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"monthrange"</span><span style='color:deepskyblue'>,</span>
           <span style='color:crimson'>"monthcalendar"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"prmonth"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"month"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"prcal"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"calendar"</span><span style='color:deepskyblue'>,</span>
           <span style='color:crimson'>"timegm"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"month_name"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"month_abbr"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"day_name"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"day_abbr"</span><span style='color:deepskyblue'>,</span>
           <span style='color:crimson'>"Calendar"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"TextCalendar"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"HTMLCalendar"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"LocaleTextCalendar"</span><span style='color:deepskyblue'>,</span>
           <span style='color:crimson'>"LocaleHTMLCalendar"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"weekheader"</span><span style='color:deepskyblue'>]</span>

<span style='color:darkblue'># Exception raised for bad input (with string parameter for details)</span>
<span style='color:darkgreen'>error</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>ValueError</span>

<span style='color:darkblue'># Exceptions raised for bad input</span>
<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>IllegalMonthError</span>(<span style='color:darkgreen'>ValueError</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>month</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__str__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>"bad month number %r; must be 1-12"</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>IllegalWeekdayError</span>(<span style='color:darkgreen'>ValueError</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>weekday</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>weekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>weekday</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__str__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>"bad weekday number %r; must be 0 (Monday) to 6 (Sunday)"</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>weekday</span>


<span style='color:darkblue'># Constants for months referenced later</span>
<span style='color:darkgreen'>January</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>1</span>
<span style='color:darkgreen'>February</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>2</span>

<span style='color:darkblue'># Number of days per month (except for February in leap years)</span>
<span style='color:darkgreen'>mdays</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>28</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>30</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>30</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>30</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>30</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>31</span><span style='color:deepskyblue'>]</span>

<span style='color:darkblue'># This module used to have hard-coded lists of day and month names, as</span>
<span style='color:darkblue'># English strings.  The classes following emulate a read-only version of</span>
<span style='color:darkblue'># that, but supply localized names.  Note that the values are computed</span>
<span style='color:darkblue'># fresh on each call, in case the user changes locale between calls.</span>

<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>_localized_month</span><span style='color:deepskyblue'>:</span>

    <span style='color:darkgreen'>_months</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:turquoise'>2001</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>strftime</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>12</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>]</span>
    <span style='color:darkgreen'>_months</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>insert</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:blueviolet'>lambda</span> <span style='color:darkgreen'>x</span><span style='color:deepskyblue'>:</span> <span style='color:crimson'>""</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>format</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__getitem__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>funcs</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>_months</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>isinstance</span>(<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>slice</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>f</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>f</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>funcs</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>funcs</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__len__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:turquoise'>13</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>_localized_day</span><span style='color:deepskyblue'>:</span>

    <span style='color:darkblue'># January 1, 2001, was a Monday.</span>
    <span style='color:darkgreen'>_days</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:turquoise'>2001</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>strftime</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>format</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__getitem__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>funcs</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>_days</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>isinstance</span>(<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>slice</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>f</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>f</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>funcs</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>funcs</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>format</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__len__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:turquoise'>7</span>


<span style='color:darkblue'># Full and abbreviated names of weekdays</span>
<span style='color:darkgreen'>day_name</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_localized_day</span>(<span style='color:crimson'>'%A'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>day_abbr</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_localized_day</span>(<span style='color:crimson'>'%a'</span><span style='color:deepskyblue'>)</span>

<span style='color:darkblue'># Full and abbreviated names of months (1-based arrays!!!)</span>
<span style='color:darkgreen'>month_name</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_localized_month</span>(<span style='color:crimson'>'%B'</span><span style='color:deepskyblue'>)</span>
<span style='color:darkgreen'>month_abbr</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_localized_month</span>(<span style='color:crimson'>'%b'</span><span style='color:deepskyblue'>)</span>

<span style='color:darkblue'># Constants for weekdays</span>
(<span style='color:darkgreen'>MONDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>TUESDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>WEDNESDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>THURSDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>FRIDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>SATURDAY</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>SUNDAY</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>isleap</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Return True for leap years, False for non-leap years."""</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>year</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>4</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>0</span> <span style='color:blueviolet'>and</span> (<span style='color:darkgreen'>year</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>100</span> <span style='color:fuchsia'>!=</span> <span style='color:turquoise'>0</span> <span style='color:blueviolet'>or</span> <span style='color:darkgreen'>year</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>400</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>0</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>leapdays</span>(<span style='color:darkgreen'>y1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>y2</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Return number of leap years in range [y1, y2).
       Assume y1 <= y2."""</span>
    <span style='color:darkgreen'>y1</span> <span style='color:deepskyblue'>-=</span> <span style='color:turquoise'>1</span>
    <span style='color:darkgreen'>y2</span> <span style='color:deepskyblue'>-=</span> <span style='color:turquoise'>1</span>
    <span style='color:blueviolet'>return</span> (<span style='color:darkgreen'>y2</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>4</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>y1</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>4</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>-</span> (<span style='color:darkgreen'>y2</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>100</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>y1</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>100</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>y2</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>400</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>y1</span><span style='color:fuchsia'>//</span><span style='color:turquoise'>400</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>weekday</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Return weekday (0-6 ~ Mon-Sun) for year, month (1-12), day (1-31)."""</span>
    <span style='color:blueviolet'>if</span> <span style='color:blueviolet'>not</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>MINYEAR</span> <span style='color:deepskyblue'><=</span> <span style='color:darkgreen'>year</span> <span style='color:deepskyblue'><=</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>MAXYEAR</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>year</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>2000</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>year</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>400</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>weekday</span>(<span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>monthrange</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Return weekday (0-6 ~ Mon-Sun) and number of days (28-31) for
       year, month."""</span>
    <span style='color:blueviolet'>if</span> <span style='color:blueviolet'>not</span> <span style='color:turquoise'>1</span> <span style='color:deepskyblue'><=</span> <span style='color:darkgreen'>month</span> <span style='color:deepskyblue'><=</span> <span style='color:turquoise'>12</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>raise</span> <span style='color:darkgreen'>IllegalMonthError</span>(<span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>day1</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>weekday</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>ndays</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>mdays</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>month</span><span style='color:deepskyblue'>]</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>February</span> <span style='color:blueviolet'>and</span> <span style='color:darkgreen'>isleap</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>day1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>ndays</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>_monthlen</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>mdays</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>month</span><span style='color:deepskyblue'>]</span> <span style='color:fuchsia'>+</span> (<span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>February</span> <span style='color:blueviolet'>and</span> <span style='color:darkgreen'>isleap</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>_prevmonth</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>year</span><span style='color:fuchsia'>-</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>12</span>
    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:fuchsia'>-</span><span style='color:turquoise'>1</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>_nextmonth</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>12</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>year</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span>
    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>Calendar</span>(<span style='color:darkgreen'>object</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Base calendar class. This class doesn't do any formatting. It simply
    provides data to subclasses.
    """</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>firstweekday</span> <span style='color:darkblue'># 0 = Monday, 6 = Sunday</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>getfirstweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>_firstweekday</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>setfirstweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>_firstweekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>firstweekday</span>

    <span style='color:darkgreen'>firstweekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>property</span>(<span style='color:darkgreen'>getfirstweekday</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>setfirstweekday</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>iterweekdays</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return an iterator for one week of weekday numbers starting with the
        configured first one.
        """</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>i</span><span style='color:fuchsia'>%</span><span style='color:turquoise'>7</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>itermonthdates</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return an iterator for one month. The iterator will yield datetime.date
        values and will always iterate through complete weeks, so it will yield
        dates outside the specified month.
        """</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdays3</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>itermonthdays</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Like itermonthdates(), but will yield day numbers. For days outside
        the specified month the day number is 0.
        """</span>
        <span style='color:darkgreen'>day1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>ndays</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>monthrange</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>days_before</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>day1</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>
        <span style='color:blueviolet'>yield</span> <span style='color:blueviolet'>from</span> <span style='color:darkgreen'>repeat</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>days_before</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>yield</span> <span style='color:blueviolet'>from</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>ndays</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>days_after</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>day1</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>ndays</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>
        <span style='color:blueviolet'>yield</span> <span style='color:blueviolet'>from</span> <span style='color:darkgreen'>repeat</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>days_after</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>itermonthdays2</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Like itermonthdates(), but will yield (day number, weekday number)
        tuples. For days outside the specified month the day number is 0.
        """</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>enumerate</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdays</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>itermonthdays3</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Like itermonthdates(), but will yield (year, month, day) tuples.  Can be
        used for dates outside of datetime.date range.
        """</span>
        <span style='color:darkgreen'>day1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>ndays</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>monthrange</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>days_before</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>day1</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>
        <span style='color:darkgreen'>days_after</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>day1</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>ndays</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>
        <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_prevmonth</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>end</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_monthlen</span>(<span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>d</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>end</span><span style='color:fuchsia'>-</span><span style='color:darkgreen'>days_before</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>d</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>ndays</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span>
        <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_nextmonth</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>d</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>days_after</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>itermonthdays4</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Like itermonthdates(), but will yield (year, month, day, day_of_week) tuples.
        Can be used for dates outside of datetime.date range.
        """</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> (<span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>enumerate</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdays3</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>yield</span> <span style='color:darkgreen'>y</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> (<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>%</span> <span style='color:turquoise'>7</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>monthdatescalendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a matrix (list of lists) representing a month's calendar.
        Each row represents a week; week entries are datetime.date values.
        """</span>
        <span style='color:darkgreen'>dates</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>list</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdates</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span> <span style='color:darkgreen'>dates</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>7</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>dates</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>monthdays2calendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a matrix representing a month's calendar.
        Each row represents a week; week entries are
        (day number, weekday number) tuples. Day numbers outside this month
        are zero.
        """</span>
        <span style='color:darkgreen'>days</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>list</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdays2</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span> <span style='color:darkgreen'>days</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>7</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>days</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>monthdayscalendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a matrix representing a month's calendar.
        Each row represents a week; days outside this month are zero.
        """</span>
        <span style='color:darkgreen'>days</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>list</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>itermonthdays</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span> <span style='color:darkgreen'>days</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>7</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>days</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>7</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>yeardatescalendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return the data for the specified year ready for formatting. The return
        value is a list of month rows. Each month row contains up to width months.
        Each month contains between 4 and 6 weeks and each week contains 1-7
        days. Days are datetime.date objects.
        """</span>
        <span style='color:darkgreen'>months</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span>
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdatescalendar</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span>
            <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>January</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>January</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>12</span><span style='color:deepskyblue'>)</span>
        <span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>months</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>months</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>yeardays2calendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return the data for the specified year ready for formatting (similar to
        yeardatescalendar()). Entries in the week lists are
        (day number, weekday number) tuples. Day numbers outside this month are
        zero.
        """</span>
        <span style='color:darkgreen'>months</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span>
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdays2calendar</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span>
            <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>January</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>January</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>12</span><span style='color:deepskyblue'>)</span>
        <span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>months</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>months</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>yeardayscalendar</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return the data for the specified year ready for formatting (similar to
        yeardatescalendar()). Entries in the week lists are day numbers.
        Day numbers outside this month are zero.
        """</span>
        <span style='color:darkgreen'>months</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span>
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdayscalendar</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span>
            <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>January</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>January</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>12</span><span style='color:deepskyblue'>)</span>
        <span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>return</span> <span style='color:deepskyblue'>[</span><span style='color:darkgreen'>months</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>i</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>]</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>months</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span> <span style='color:deepskyblue'>]</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>TextCalendar</span>(<span style='color:darkgreen'>Calendar</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    Subclass of Calendar that outputs a calendar as a simple plain text
    similar to the UNIX program cal.
    """</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>prweek</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Print a single week (no newline).
        """</span>
        <span style='color:darkgreen'>print</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>''</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>weekday</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Returns a formatted day.
        """</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>day</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>0</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>''</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>'%2i'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>day</span>             <span style='color:darkblue'># right-align single-digit days</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>s</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>center</span>(<span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Returns a single week in a string (no newline).
        """</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>' '</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatday</span>(<span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>wd</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> (<span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>wd</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Returns a formatted week day name.
        """</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>width</span> <span style='color:deepskyblue'>>=</span> <span style='color:turquoise'>9</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>names</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>day_name</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>names</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>day_abbr</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>names</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>day</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>:</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>center</span>(<span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekheader</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a header for a week.
        """</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>' '</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>iterweekdays</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>True</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a formatted month name.
        """</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>month_name</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"%s %r"</span> <span style='color:fuchsia'>%</span> (<span style='color:darkgreen'>s</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>s</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>center</span>(<span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>prmonth</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Print a month's calendar.
        """</span>
        <span style='color:darkgreen'>print</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonth</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>''</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonth</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a month's calendar string (multi-line).
        """</span>
        <span style='color:darkgreen'>w</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>l</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>7</span> <span style='color:fuchsia'>*</span> (<span style='color:darkgreen'>w</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>-</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>s</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>+=</span> <span style='color:crimson'>'\n'</span> <span style='color:fuchsia'>*</span> <span style='color:darkgreen'>l</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>+=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekheader</span>(<span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>+=</span> <span style='color:crimson'>'\n'</span> <span style='color:fuchsia'>*</span> <span style='color:darkgreen'>l</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>week</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdays2calendar</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>+=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>week</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>+=</span> <span style='color:crimson'>'\n'</span> <span style='color:fuchsia'>*</span> <span style='color:darkgreen'>l</span>
        <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>s</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>6</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Returns a year's calendar as a multi-line string.
        """</span>
        <span style='color:darkgreen'>w</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>l</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>c</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>colwidth</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>w</span> <span style='color:fuchsia'>+</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>*</span> <span style='color:turquoise'>7</span> <span style='color:fuchsia'>-</span> <span style='color:turquoise'>1</span>
        <span style='color:darkgreen'>v</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>]</span>
        <span style='color:darkgreen'>a</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>v</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>
        <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>repr</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>center</span>(<span style='color:darkgreen'>colwidth</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>m</span><span style='color:fuchsia'>+</span><span style='color:darkgreen'>c</span><span style='color:fuchsia'>*</span>(<span style='color:darkgreen'>m</span><span style='color:fuchsia'>-</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>header</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekheader</span>(<span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>for</span> (<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>row</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>enumerate</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>yeardays2calendar</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkblue'># months in this row</span>
            <span style='color:darkgreen'>months</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>m</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>min</span>(<span style='color:darkgreen'>m</span><span style='color:fuchsia'>*</span>(<span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>13</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>names</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>k</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:blueviolet'>False</span><span style='color:deepskyblue'>)</span>
                     <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>k</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>months</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>formatstring</span>(<span style='color:darkgreen'>names</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>headers</span> <span style='color:deepskyblue'>=</span> (<span style='color:darkgreen'>header</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>k</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>months</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>formatstring</span>(<span style='color:darkgreen'>headers</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:fuchsia'>*</span><span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkblue'># max number of weeks for this row</span>
            <span style='color:darkgreen'>height</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>cal</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>row</span><span style='color:deepskyblue'>)</span>
            <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>j</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>height</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
                <span style='color:darkgreen'>weeks</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>]</span>
                <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>cal</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>row</span><span style='color:deepskyblue'>:</span>
                    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>j</span> <span style='color:deepskyblue'>>=</span> <span style='color:darkgreen'>len</span>(<span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
                        <span style='color:darkgreen'>weeks</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>(<span style='color:crimson'>''</span><span style='color:deepskyblue'>)</span>
                    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
                        <span style='color:darkgreen'>weeks</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>j</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
                <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>formatstring</span>(<span style='color:darkgreen'>weeks</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>rstrip</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
                <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span> <span style='color:fuchsia'>*</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>v</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>pryear</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>6</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""Print a year's calendar."""</span>
        <span style='color:darkgreen'>print</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>w</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>end</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>''</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>HTMLCalendar</span>(<span style='color:darkgreen'>Calendar</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    This calendar returns complete HTML pages.
    """</span>

    <span style='color:darkblue'># CSS classes for the day <td>s</span>
    <span style='color:darkgreen'>cssclasses</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:crimson'>"mon"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"tue"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"wed"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"thu"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"fri"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"sat"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"sun"</span><span style='color:deepskyblue'>]</span>

    <span style='color:darkblue'># CSS classes for the day <th>s</span>
    <span style='color:darkgreen'>cssclasses_weekday_head</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>cssclasses</span>

    <span style='color:darkblue'># CSS class for the days before and after current month</span>
    <span style='color:darkgreen'>cssclass_noday</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"noday"</span>

    <span style='color:darkblue'># CSS class for the month's head</span>
    <span style='color:darkgreen'>cssclass_month_head</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"month"</span>

    <span style='color:darkblue'># CSS class for the month</span>
    <span style='color:darkgreen'>cssclass_month</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"month"</span>

    <span style='color:darkblue'># CSS class for the year's table head</span>
    <span style='color:darkgreen'>cssclass_year_head</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"year"</span>

    <span style='color:darkblue'># CSS class for the whole year table</span>
    <span style='color:darkgreen'>cssclass_year</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>"year"</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>weekday</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a day as a table cell.
        """</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>day</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:turquoise'>0</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkblue'># day outside month</span>
            <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<td class="%s">&nbsp;</td>'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclass_noday</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<td class="%s">%d</td>'</span> <span style='color:fuchsia'>%</span> (<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclasses</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>weekday</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a complete week as a table row.
        """</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatday</span>(<span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>wd</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> (<span style='color:darkgreen'>d</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>wd</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>theweek</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<tr>%s</tr>'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>s</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a weekday name as a table header.
        """</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<th class="%s">%s</th>'</span> <span style='color:fuchsia'>%</span> (
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclasses_weekday_head</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>day</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day_abbr</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>day</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekheader</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a header for a week as a table row.
        """</span>
        <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>iterweekdays</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<tr>%s</tr>'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>s</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>True</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a month name as a table row.
        """</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>'%s %s'</span> <span style='color:fuchsia'>%</span> (<span style='color:darkgreen'>month_name</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>s</span> <span style='color:deepskyblue'>=</span> <span style='color:crimson'>'%s'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>month_name</span><span style='color:deepskyblue'>[</span><span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>]</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>'<tr><th colspan="7" class="%s">%s</th></tr>'</span> <span style='color:fuchsia'>%</span> (
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclass_month_head</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>s</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonth</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>True</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a formatted month as a table.
        """</span>
        <span style='color:darkgreen'>v</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>]</span>
        <span style='color:darkgreen'>a</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>v</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<table border="0" cellpadding="0" cellspacing="0" class="%s">'</span> <span style='color:fuchsia'>%</span> (
            <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclass_month</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekheader</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>week</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdays2calendar</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweek</span>(<span style='color:darkgreen'>week</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</table>'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>v</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a formatted year as a table of tables.
        """</span>
        <span style='color:darkgreen'>v</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>]</span>
        <span style='color:darkgreen'>a</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>v</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>
        <span style='color:darkgreen'>width</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>max</span>(<span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<table border="0" cellpadding="0" cellspacing="0" class="%s">'</span> <span style='color:fuchsia'>%</span>
          <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclass_year</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<tr><th colspan="%d" class="%s">%s</th></tr>'</span> <span style='color:fuchsia'>%</span> (
            <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>cssclass_year_head</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>i</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>January</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>January</span><span style='color:fuchsia'>+</span><span style='color:turquoise'>12</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkblue'># months in this row</span>
            <span style='color:darkgreen'>months</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>range</span>(<span style='color:darkgreen'>i</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>min</span>(<span style='color:darkgreen'>i</span><span style='color:fuchsia'>+</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>13</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<tr>'</span><span style='color:deepskyblue'>)</span>
            <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>m</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>months</span><span style='color:deepskyblue'>:</span>
                <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<td>'</span><span style='color:deepskyblue'>)</span>
                <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonth</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>m</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>False</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
                <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</td>'</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</tr>'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</table>'</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>v</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatyearpage</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>css</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>'calendar.css'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>None</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:crimson'>"""
        Return a formatted year as a complete HTML page.
        """</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>encoding</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>encoding</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getdefaultencoding</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>v</span> <span style='color:deepskyblue'>=</span> <span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>]</span>
        <span style='color:darkgreen'>a</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>v</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>append</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<?xml version="1.0" encoding="%s"?>\n'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<html>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<head>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<meta http-equiv="Content-Type" content="text/html; charset=%s" />\n'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>css</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>not</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<link rel="stylesheet" type="text/css" href="%s" />\n'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>css</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<title>Calendar for %d</title>\n'</span> <span style='color:fuchsia'>%</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</head>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'<body>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</body>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>a</span>(<span style='color:crimson'>'</html>\n'</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>return</span> <span style='color:crimson'>''</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>v</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encode</span>(<span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"xmlcharrefreplace"</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>different_locale</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>locale</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__enter__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>oldlocale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getlocale</span>(<span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>LC_TIME</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>setlocale</span>(<span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>LC_TIME</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__exit__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>*</span><span style='color:darkgreen'>args</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>setlocale</span>(<span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>LC_TIME</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>oldlocale</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>LocaleTextCalendar</span>(<span style='color:darkgreen'>TextCalendar</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    This class can be passed a locale name in the constructor and will return
    month and weekday names in the specified locale. If this locale includes
    an encoding all strings containing month and weekday names will be returned
    as unicode.
    """</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>None</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>TextCalendar</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>locale</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getdefaultlocale</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>locale</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>with</span> <span style='color:darkgreen'>different_locale</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>super</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>True</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>with</span> <span style='color:darkgreen'>different_locale</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>super</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>class</span> <span style='color:darkgreen'>LocaleHTMLCalendar</span>(<span style='color:darkgreen'>HTMLCalendar</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""
    This class can be passed a locale name in the constructor and will return
    month and weekday names in the specified locale. If this locale includes
    an encoding all strings containing month and weekday names will be returned
    as unicode.
    """</span>
    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>0</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>None</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>HTMLCalendar</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>__init__</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>locale</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>_locale</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getdefaultlocale</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>locale</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>with</span> <span style='color:darkgreen'>different_locale</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>super</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekday</span>(<span style='color:darkgreen'>day</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>True</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>with</span> <span style='color:darkgreen'>different_locale</span>(<span style='color:darkgreen'>self</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
            <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>super</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonthname</span>(<span style='color:darkgreen'>theyear</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>themonth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>withyear</span><span style='color:deepskyblue'>)</span>

<span style='color:darkblue'># Support for old module level interface</span>
<span style='color:darkgreen'>c</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>TextCalendar</span>(<span style='color:deepskyblue'>)</span>

<span style='color:darkgreen'>firstweekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getfirstweekday</span>

<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>setfirstweekday</span>(<span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>if</span> <span style='color:blueviolet'>not</span> <span style='color:darkgreen'>MONDAY</span> <span style='color:deepskyblue'><=</span> <span style='color:darkgreen'>firstweekday</span> <span style='color:deepskyblue'><=</span> <span style='color:darkgreen'>SUNDAY</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>raise</span> <span style='color:darkgreen'>IllegalWeekdayError</span>(<span style='color:darkgreen'>firstweekday</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>firstweekday</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>firstweekday</span>

<span style='color:darkgreen'>monthcalendar</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>monthdayscalendar</span>
<span style='color:darkgreen'>prweek</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>prweek</span>
<span style='color:darkgreen'>week</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweek</span>
<span style='color:darkgreen'>weekheader</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatweekheader</span>
<span style='color:darkgreen'>prmonth</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>prmonth</span>
<span style='color:darkgreen'>month</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonth</span>
<span style='color:darkgreen'>calendar</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyear</span>
<span style='color:darkgreen'>prcal</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>pryear</span>


<span style='color:darkblue'># Spacing of month columns for multi-column year calendar</span>
<span style='color:darkgreen'>_colwidth</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>7</span><span style='color:fuchsia'>*</span><span style='color:turquoise'>3</span> <span style='color:fuchsia'>-</span> <span style='color:turquoise'>1</span>         <span style='color:darkblue'># Amount printed by prweek()</span>
<span style='color:darkgreen'>_spacing</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>6</span>                <span style='color:darkblue'># Number of spaces between columns</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>format</span>(<span style='color:darkgreen'>cols</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>_colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>spacing</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>_spacing</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Prints multi-column formatting for year calendars"""</span>
    <span style='color:darkgreen'>print</span>(<span style='color:darkgreen'>formatstring</span>(<span style='color:darkgreen'>cols</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>spacing</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>formatstring</span>(<span style='color:darkgreen'>cols</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>_colwidth</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>spacing</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>_spacing</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Returns a string formatted from n strings, centered within n columns."""</span>
    <span style='color:darkgreen'>spacing</span> <span style='color:deepskyblue'>*=</span> <span style='color:crimson'>' '</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>spacing</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>join</span>(<span style='color:darkgreen'>c</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>center</span>(<span style='color:darkgreen'>colwidth</span><span style='color:deepskyblue'>)</span> <span style='color:blueviolet'>for</span> <span style='color:darkgreen'>c</span> <span style='color:blueviolet'>in</span> <span style='color:darkgreen'>cols</span><span style='color:deepskyblue'>)</span>


<span style='color:darkgreen'>EPOCH</span> <span style='color:deepskyblue'>=</span> <span style='color:turquoise'>1970</span>
<span style='color:darkgreen'>_EPOCH_ORD</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:darkgreen'>EPOCH</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>toordinal</span>(<span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>timegm</span>(<span style='color:darkgreen'>tuple</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:crimson'>"""Unrelated but handy function to calculate Unix timestamp from GMT."""</span>
    <span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>day</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>hour</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>minute</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>second</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>tuple</span><span style='color:deepskyblue'>[</span><span style='color:deepskyblue'>:</span><span style='color:turquoise'>6</span><span style='color:deepskyblue'>]</span>
    <span style='color:darkgreen'>days</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span>(<span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>toordinal</span>(<span style='color:deepskyblue'>)</span> <span style='color:fuchsia'>-</span> <span style='color:darkgreen'>_EPOCH_ORD</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>day</span> <span style='color:fuchsia'>-</span> <span style='color:turquoise'>1</span>
    <span style='color:darkgreen'>hours</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>days</span><span style='color:fuchsia'>*</span><span style='color:turquoise'>24</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>hour</span>
    <span style='color:darkgreen'>minutes</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>hours</span><span style='color:fuchsia'>*</span><span style='color:turquoise'>60</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>minute</span>
    <span style='color:darkgreen'>seconds</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>minutes</span><span style='color:fuchsia'>*</span><span style='color:turquoise'>60</span> <span style='color:fuchsia'>+</span> <span style='color:darkgreen'>second</span>
    <span style='color:blueviolet'>return</span> <span style='color:darkgreen'>seconds</span>


<span style='color:blueviolet'>def</span> <span style='color:darkgreen'>main</span>(<span style='color:darkgreen'>args</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>:</span>
    <span style='color:blueviolet'>import</span> <span style='color:darkgreen'>argparse</span>
    <span style='color:darkgreen'>parser</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>argparse</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>ArgumentParser</span>(<span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>textgroup</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument_group</span>(<span style='color:crimson'>'text only arguments'</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>htmlgroup</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument_group</span>(<span style='color:crimson'>'html only arguments'</span><span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>textgroup</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-w"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--width"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>2</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"width of date column (default 2)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>textgroup</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-l"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--lines"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"number of lines for each week (default 1)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>textgroup</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-s"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--spacing"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>6</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"spacing between months (default 6)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>textgroup</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-m"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--months"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:turquoise'>3</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"months per row (default 3)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>htmlgroup</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-c"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--css"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"calendar.css"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"CSS to use for page"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-L"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--locale"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>None</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"locale to be used from month and weekday names"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-e"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--encoding"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:blueviolet'>None</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"encoding to use for output"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"-t"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"--type"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>default</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"text"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>choices</span><span style='color:deepskyblue'>=</span>(<span style='color:crimson'>"text"</span><span style='color:deepskyblue'>,</span> <span style='color:crimson'>"html"</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"output type (text or html)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"year"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>nargs</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>'?'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"year number (1-9999)"</span>
    <span style='color:deepskyblue'>)</span>
    <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>add_argument</span>(
        <span style='color:crimson'>"month"</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>nargs</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>'?'</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>type</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>int</span><span style='color:deepskyblue'>,</span>
        <span style='color:darkgreen'>help</span><span style='color:deepskyblue'>=</span><span style='color:crimson'>"month number (1-12, text only)"</span>
    <span style='color:deepskyblue'>)</span>

    <span style='color:darkgreen'>options</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>parse_args</span>(<span style='color:darkgreen'>args</span><span style='color:deepskyblue'>[</span><span style='color:turquoise'>1</span><span style='color:deepskyblue'>:</span><span style='color:deepskyblue'>]</span><span style='color:deepskyblue'>)</span>

    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span> <span style='color:blueviolet'>and</span> <span style='color:blueviolet'>not</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>:</span>
        <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>error</span>(<span style='color:crimson'>"if --locale is specified --encoding is required"</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>exit</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>

    <span style='color:darkgreen'>locale</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encoding</span>

    <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>type</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:crimson'>"html"</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>cal</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>LocaleHTMLCalendar</span>(<span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>cal</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>HTMLCalendar</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>encoding</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encoding</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>encoding</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>encoding</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>getdefaultencoding</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>optdict</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>dict</span>(<span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>css</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>css</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>write</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>stdout</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>buffer</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>write</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>write</span>(<span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyearpage</span>(<span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>today</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>**</span><span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>elif</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>write</span>(<span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyearpage</span>(<span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>**</span><span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>parser</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>error</span>(<span style='color:crimson'>"incorrect number of arguments"</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>exit</span>(<span style='color:turquoise'>1</span><span style='color:deepskyblue'>)</span>
    <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>cal</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>LocaleTextCalendar</span>(<span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>locale</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>cal</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>TextCalendar</span>(<span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>optdict</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>dict</span>(<span style='color:darkgreen'>w</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>width</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>l</span><span style='color:deepskyblue'>=</span><span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>lines</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>"c"</span><span style='color:deepskyblue'>]</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>spacing</span>
            <span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>[</span><span style='color:crimson'>"m"</span><span style='color:deepskyblue'>]</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>months</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>result</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>datetime</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>date</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>today</span>(<span style='color:deepskyblue'>)</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>**</span><span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>elif</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span> <span style='color:blueviolet'>is</span> <span style='color:blueviolet'>None</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>result</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatyear</span>(<span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>**</span><span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>)</span>
        <span style='color:blueviolet'>else</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>result</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>cal</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>formatmonth</span>(<span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>year</span><span style='color:deepskyblue'>,</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>month</span><span style='color:deepskyblue'>,</span> <span style='color:fuchsia'>**</span><span style='color:darkgreen'>optdict</span><span style='color:deepskyblue'>)</span>
        <span style='color:darkgreen'>write</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>stdout</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>write</span>
        <span style='color:blueviolet'>if</span> <span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>:</span>
            <span style='color:darkgreen'>result</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>result</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encode</span>(<span style='color:darkgreen'>options</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>encoding</span><span style='color:deepskyblue'>)</span>
            <span style='color:darkgreen'>write</span> <span style='color:deepskyblue'>=</span> <span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>stdout</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>buffer</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>write</span>
        <span style='color:darkgreen'>write</span>(<span style='color:darkgreen'>result</span><span style='color:deepskyblue'>)</span>


<span style='color:blueviolet'>if</span> <span style='color:darkgreen'>__name__</span> <span style='color:deepskyblue'>=</span><span style='color:deepskyblue'>=</span> <span style='color:crimson'>"__main__"</span><span style='color:deepskyblue'>:</span>
    <span style='color:darkgreen'>main</span>(<span style='color:darkgreen'>sys</span><span style='color:deepskyblue'>.</span><span style='color:darkgreen'>argv</span><span style='color:deepskyblue'>)</span>

        </pre>
    </body>
</html>